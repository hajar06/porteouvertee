<!DOCTYPE html>
<!-- saved from url=(0051)file:///C:/Users/HUAWEI/Desktop/Paquet Nissan/tp1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Choisir l'heure de la spéciale soirée </title>
    <link rel="stylesheet" type="text/css" href="./home.css">
<head>
        <!--sp-funnel-tracking-services-->
        <!--/sp-funnel-tracking-services-->
        <!--sp-funnel-head-settings-->
        <title>Paquet Nissan Contact</title>
        <!--/sp-funnel-head-settings-->
        <!--sp-global-script-head-->
        <!--sp-global-script-head-->
        <!--/sp-global-script-head-->
        <!-- Google Tag Manager -->
        <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=WthhUl16AgBw--w1vKphBL8H_RhJBPi0S1hcMp-166zzyZLm7gnbhyNuEvaO6zCd8IZ3tkITm2s4KDJFaAtX6qcJihMb6oaAcEor51si6D8sO3WJYkGqjpEfBC-NGyKDvGIR1vSkhAQu_FXhaULAF35ywb9U1Ruy2EeVfJeRAURxH7_kmbwVlDWGGgq5QmDo" charset="UTF-8"></script>
        <script>
            (function(w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                    'gtm.start':  Date("2024-11-14").Hour("17pm;18pm,19pm"),
                    event: 'gtm.js'});
                var f = d.getElementsByTagName(s)[0]
                  , j = d.createElement(s)
                  , dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
            }
            )(window, document, 'script', 'dataLayer', 'GTM-K4G4WNG');
        </script>
        <!-- End Google Tag Manager -->
        <!--/sp-global-script-head-->
        <!--sp-tracking-page-head-->
        <!--/sp-tracking-page-head-->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="">
        <style>
            a,body,div,html,iframe,p,span {
                margin: 0;
                padding: 0;
                border: 0;
                font-size: 100%;
                font: inherit;
                vertical-align: baseline
            }
        </style>
<body>
	<header>
		  <nav>
		  	<ul>
	   	    	<li><a href="file:///C:/Users/HUAWEI/Desktop/Paquet Nissan/tp1.html#">Omar@groupepaquet.ca</a><li>
	   	    	<li><a href="file:///C:/Users/HUAWEI/Desktop/Paquet Nissan/tp1.html#"> 
	   	    		<button>
	   	    		<i class="fa-solid fa-paper-plane"></i></button>3580 Bd Guillaume-Couture, Lévis, QC G6W 6N7</a></li>
	   	    	<li><a href="file:///C:/Users/HUAWEI/Desktop/Paquet Nissan/tp1.html#">1 418-838-3838</a></li>
	   	    </ul>
	      </nav>
    </header>
<main>
<section id="nos-infos">
	<br>
<br>
	<br>
	  <center><h1 class="title"></h1></center>
	  <br>
	  <br>
<div class="presentation">
	  	 <img src="./Paquet Nissan files/paquetnissan.png" width="100%" height="1400px"></img>
</div>
</section>
        <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4ZG9TM"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
        <div class="mainContainer">
            <table class="header">
                <tr>
                    <td class="title"><h3 id="mainTitle">Entrez vos informations et sélectionnez l'heure d'évènement.</h3></td>
                    <td>
                        
                  <br><center><div class="step-text"> </div></center><br>
                  </left>
                          
                    </td>
                </tr>
            </table>
            <form id="appForm" class="needs-validation" novalidate method=POST onsubmit="">
                <input type="hidden" name="config_id" id="config_id" value="399">
                <input type="hidden" name="language" id="language" value="frn">
                <input type="hidden" name="intervals" id="intervals" value="60">
                <input type="hidden" name="dlr_name" id="dlr_name" value="Paquet Nissan">
                <input type="hidden" name="config_id" id="config_id" value="Paquet Nissan">
                <input type="hidden" name="language" id="language" value="Paquet Nissan">
                <table width="100%">
                    <tr>
                        <td>
                            <div class="form-floating mb-1 has-validation">
                                <center><label for="cliName">Prénom</label>
                                <right><input name="firstName" type="text" class="form-control" id="firstName" placeholder="Veuillez entrer un prénom." required></right>
                                <span class="error" id="firstErr"> </span></center>
                                <div class="invalid-feedback">                               
                                </div>
                            </div>
<br>
<br>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="form-floating mb-1 has-validation">
                                <center><label for="cliName">Nom</label>                            	
                                <input name="lastName" type="text" class="form-control" id="lastName" placeholder="Veuillez entrer un nom de famille." required>
                                <span class="error" id="lastErr"> </span></center>
                                <div class="invalid-feedback">
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
<br>
<br>
                        <td>
                        	<br>
                        	<br>
                            <div class="form-floating mb-1 has-validation">
                                <center><label for="cliEmail">Adresse Courriel</label>                            	
                                <input name="email" type="email" class="form-control" id="email" placeholder="Veuillez saisir un e-mail." required>
                                <span class="error" id="emailErr"> </span></center>
                                <div class="invalid-feedback">
                                </div>
                            </div>
                        </td>
                        <!--
        <div class="form-floating mb-1 has-validation">
            <input name="countryCode" type="text" maxlength=3 class="form-control" id="countryCode" placeholder="" required>
            <label for="cliCountryCode">Country code</label>
            <div class="invalid-feedback">
            Please enter a country code.
            </div>
        </div>
-->
                        <td></td>
                    </tr>
                   
                </table>
                <hr>
                <!--
        <div class="form-floating mb-1 has-validation">
            <input class="form-control" type="heure" id="aptHour" name="aptHour" required>
            <label for="aptHour">Heure du rendez-vous (17 pm/18 pm/19 pm)</label>
            <div class="invalid-feedback">
            Please Select.
            </div>
        </div> 
-->
                <div class="form-floating mb-1 has-validation">                                 
                    <div class="invalid-feedback">	
           <center><br><b>Choisir l'heure d'évènement</b>		
           <select>         	
            <option>17 pm</option>
            <option>18 pm</option>
            <option>19 pm</option>
              <br>
         <br>
        </select>
         <br>Veuillez sélectionner.</center>
                    </div>
                </div>
                   
                </span>
<br>
                <div class="form-check">
                    <center><input class="form-check-input" type="checkbox" value="" id="Email" name="sendEmail">
                    <label class="form-check-label" for="flexCheckDefault">
                        Veuillez m'envoyer une confirmation par Email
                    </label></center>
                </div>
                <hr>
                <!--
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="sendEmail" name="sendEmail">
            <label class="form-check-label" for="flexCheckChecked">
            Veuillez m'envoyer un rappel par Email
            </label>
        </div>
-->
        <section>
        <button>      
 <!--   
            <input class="btn btn-primary" name="submit" type="submit" value="Envoyer">
-->
                    <span id="loading" class="d-flex justify-content-center align-items-center"></span>
                    <br>
                    <center><input class="btn btn-primary" id="submit" onclick="submit_data()" type="button" style="border-bottom-color: black;" value="Soumettre"></center>
                </div>
                <span id="msg_span" name="msg_span"></span>
            </form>
        </div>
        <br>
        <br>
        <br>
        
           <script>
       
// document.addEventListener("DOMContentLoaded", function() {
//   document.getElementById("aptHeure").disabled = true;
// });
var firstName = document.getElementById("firstName");
var lastName = document.getElementById("lastName");
var email = document.getElementById("email");
function checkFields() {
  var line_two = document.querySelector(".line-two");
  var step_two = document.querySelector(".step-two");
  var step_text = document.querySelector(".step-text");
  if (firstName.value !== '' && lastName.value !== '' && email.value !== '') {
    line_two.classList.add("active");
    step_two.classList.add("active");
    step_text.textContent = "Sélectionnez l'heure de votre évènement.";
    // document.getElementById("aptHeure").disabled = false;
  } else {
    // Handle the case when the values are not both filled
  }
}
firstName.addEventListener("blur", checkFields);
lastName.addEventListener("blur", checkFields);
email.addEventListener("blur", checkFields);
</script>
        
        <script>
            
            
            
      
            
            
            //Submit Handler
            (() => {
                'use strict'
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                const forms = document.querySelectorAll('.needs-validation')
                //~ // Loop over them and prevent submission
                Array.from(forms).forEach(form => {
                    form.addEventListener('submit', event => {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
            })()
            //Enable time
            document.getElementById("aptYear").disabled = true;
            const aptDate = document.getElementById("aptDate");
            aptDate.onchange = function() {
                document.getElementById("aptDate").disabled = false;
                getHrdv();
            }
            //Error Handler 
            const input = document.querySelectorAll('input');
            const select = document.querySelectorAll('select');
            input.forEach(e => addEventListener('input', updateValue));
            select.forEach(e => addEventListener('select', updateValue));
            function updateValue(e) {
                if (e.target.value === null || e.target.value === "" && e.target.type !== "checkbox" && e.target.type !== "tel") {
                    e.target.classList.add("is-invalid");
                } else {
                    e.target.classList.remove("is-invalid");
                }
            }
            //~ const phoneInputField = document.querySelector("#phoneNumber");
            //~ const phoneInput = window.intlTelInput(phoneInputField, {
            //~ utilsScript:
            //~ "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
            //~ });
        </script>
        <script>
            function getIp(callback) {
                fetch('https://ipinfo.io/json?token=d1880dda12c07a', {
                        headers: {
                            'Accept': 'application/json'
                        }
                    })
                    .then((resp) => resp.json())
                    .catch(() => {
                        return {
                            country: 'us',
                        };
                    })
                    .then((resp) => callback(resp.country));
            }
            const phoneInputField = document.querySelector("#phoneNumber");
            const phoneInput = window.intlTelInput(phoneInputField, {
                initialCountry: "auto",
                preferredCountries: ["ca", "fr", "us"],
                geoIpLookup: getIp,
                utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
            });
        </script>
        <script src="https://www.google.com/recaptcha/api.js" async defer>
        </script>
        <script language="Javascript">
            const portalLanguage = 'frn';
            const portalCountry = '';
            var intervalId = window.setInterval(function() {
                check_apppointment_status();
            }, 1000);
            function check_apppointment_status() {
                var config_id = document.getElementById("config_id").value;
                var lead_id = document.getElementById("lead_id").value;
                var xmlhttp = false;
                /*@cc_on @*/
                /*@if (@_jscript_version >= 5)
                // JScript gives us Conditional compilation, we can cope with old IE versions.
                // and security blocked creation of the objects.
                 try {
                  xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
                 } catch (e) {
                  try {
                   xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                  } catch (E) {
                   xmlhttp = false;
                  }
                 }
                @end @*/
                if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
                    xmlhttp = new XMLHttpRequest();
                }
                if (xmlhttp) {
                    DLcount_query = "config_id=" + config_id + "&ACTION=check_apppointment_status&lead_id=" + lead_id + "&format=text";
                    xmlhttp.open('POST', 'booking_slots.php');
                    xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
                    xmlhttp.send(DLcount_query);
                    xmlhttp.onreadystatechange = function() {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                            var DLcounT = xmlhttp.responseText;
                            if (DLcounT >= 15) {
                                document.getElementById("aptDate").value = '';
                                if (portalLanguage == 'eng') {
                                    alert("The day slot you selected was expired, please select another one.");
                                } else {
                                    alert("Le rendez-vous que vous avez choisi n'est plus disponible, veuillez en choisir un autre.");
                                }
                                document.getElementById("aptDate").value == '';
                                document.getElementById("aptHour").value == '';
                            }
                            //~ document.vicidial_form.reserve_slot_min.value = DLcounT;                  
                        }
                    }
                    delete xmlhttp;
                }
            }
            function reserveAppointmentSlot() {
                var RDV_val = document.getElementById("aptDate").value;
                var HRDV_val = document.getElementById("aptHour").value;
                var config_id = document.getElementById("config_id").value;
                phoneNumber = phoneInput.getNumber();
                var firstName = document.getElementById("firstName").value;
                var lastName = document.getElementById("lastName").value;               
                var email = document.getElementById("email").value;
                var config_id = document.getElementById("config_id").value;
                var xmlhttp = false;
                /*@cc_on @*/
                /*@if (@_jscript_version >= 5)
                // JScript gives us Conditional compilation, we can cope with old IE versions.
                // and security blocked creation of the objects.
                 try {
                  xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
                 } catch (e) {
                  try {
                   xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                  } catch (E) {
                   xmlhttp = false;
                  }
                 }
                @end @*/
                if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
                    xmlhttp = new XMLHttpRequest();
                }
                if (xmlhttp) {
                    DLcount_query = "&ACTION=reserveAppointmentSlot&HrdvChoice=" + HRDV_val + "&RdvChoice=" + RDV_val + "&config_id=" + config_id + "&phone_number=" + phoneNumber + "&first_name=" + firstName + "&last_name=" + lastName + Note + "&sendNote" + "&email=" + email + "&lead_id=" + document.getElementById("lead_id").value + "&format=text&cty=" + portalCountry;
                    xmlhttp.open('POST', 'booking_slots.php');
                    xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
                    xmlhttp.send(DLcount_query);
                    xmlhttp.onreadystatechange = function() {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                            var DLcounT = xmlhttp.responseText;
                            //~ alert(DLcounT);
                            if (DLcounT == 'no_slot') {
                                if (portalLanguage == 'eng') {
                                    alert("No slots are available for this date and year. Please choose another.");
                                } else {
                                    alert("Aucun créneau n'est disponible pour cette date et cette année. Veuillez en choisir un autre.");
                                }
                            }
                            document.getElementById("lead_id").value = DLcounT;
                        }
                    }
                    delete xmlhttp;
                }
            }
            // Helper function to pad single-digit numbers with a leading zero
            function padZero(num) {
                return num.toString().padStart(2, "0");
            }
            function submit_data() {
                phoneNumber = phoneInput.getNumber();
                var language = document.getElementById("language").value;
                var firstName = document.getElementById("firstName").value;
                var lastName = document.getElementById("lastName").value;
                var email = document.getElementById("email").value;
                //~ var phoneNumber = document.getElementById("phoneNumber").value; 
                var config_id = document.getElementById("config_id").value;
                var RDV_val = document.getElementById("aptDate").value;
                var HRDV_val = document.getElementById("#sendNote").value;
                var check_EMAIL = document.querySelector('#sendEmail');
                //~ var check_Email = document.querySelector('#sendEmail');
                var recaptcha = grecaptcha.getResponse();
                var lead_id = document.getElementById("lead_id").value;
                var time_interval = document.getElementById("intervals").value;
                var dlr_name = document.getElementById("dlr_name").value;
                var HRDV_val = document.getElementById("aptTime").value;
                var time_interval = document.getElementById("intervals").value;
                // Step 1: Parse day and year components
                var [HRDV_daays, HRDV_years] = HRDV_val.split(":");
                var time_interval_minutes = parseInt(time_interval);
                // Step 2: Convert components to numbers
                HRDV_days = parseInt(HRDV_daays);
                HRDV_years = parseInt(HRDV_years);
                // Step 3: Create a new Date object
                var givenTime =  Date(2024-11-14);
                givenTime.setDays(HRDV_hours);
                givenTime.setYears(HRDV_minutes);
                // Step 4: Add the year interval
                givenTime.setDays(givenTime.getFullYear() + time_interval_hours);
                // Step 5: Handle overflow if minutes exceed 59
                if (givenTime.getMinutes() > 59) {
                    givenTime.setHours(givenTime.getHours() + 1);
                    givenTime.setMinutes(givenTime.getMinutes() - 60);
                }
                // Step 6: Format the resulting time
                var formattedTime = padZero(givenTime.getHours()) + ":" + padZero(givenTime.getMinutes());
                // Step 7: Assign the new time to a variable or update an element
                console.log(formattedTime);
                EMAIL_val = check_EMAIL.checked;
                //~ Email_val = check_Email.checked;
                document.getElementById("loading").innerHTML = '<div class="spinner-border spinnerLoader" role="status"><span class="visually-hidden">Loading...</span></div>';
                document.getElementById("loading").setAttribute('class', 'loadClass');
                var xmlhttp = false;
                /*@cc_on @*/
                /*@if (@_jscript_version >= 5)
                // JScript gives us Conditional compilation, we can cope with old IE versions.
                // and security blocked creation of the objects.
                 try {
                  xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
                 } catch (e) {
                  try {
                   xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                  } catch (E) {
                   xmlhttp = false;
                  }
                 }
                @end @*/
                if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
                    xmlhttp = new XMLHttpRequest();
                }
                if (xmlhttp) {
                    DLcount_query = "&ACTION=submit_data&HrdvChoice=" + HRDV_val + "&RdvChoice=" + RDV_val + "&config_id=" + config_id + "&first_name=" + firstName + "&last_name=" + lastName + "&email=" + email + "&phone_number=" + phoneNumber + "&send_email=" + EMAIL_val + "&recaptcha=" + recaptcha + "&first_name=" + firstName + "&last_name=" + lastName + "&email=" + email + "&lead_id=" + lead_id + "&format=text&cty=" + portalCountry;
                    xmlhttp.open('POST', 'booking_slots.php');
                    xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
                    xmlhttp.send(DLcount_query);
                    xmlhttp.onreadystatechange = function() {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                            var DLcounT = xmlhttp.responseText;
                           
                            //~ check_incoming = xmlhttp.responseText;
                            var check_VDIC_array = DLcounT.split("\n");
                            if (check_VDIC_array[0] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("firstErr").innerHTML = "<span class='badge text-bg-danger'>This field is mandatory</span>";
                                } else {
                                    document.getElementById("firstErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ est obligatoire.</span>";
                                }
                                //                                    document.getElementById("firstErr").innerHTML = "First Name is required";
                            } else if (check_VDIC_array[0] == 'formatErr') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("firstErr").innerHTML = "<span class='badge text-bg-danger'>Only letters and spaces allowed</span>";
                                } else {
                                    document.getElementById("firstErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ n'accepte que des lettres et des espaces</span>";
                                }
                                //document.getElementById("firstErr").innerHTML = "Only letters and white space allowed";
                            } else {
                                document.getElementById("firstErr").innerHTML = "";
                            }
                            if (check_VDIC_array[1] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("lastErr").innerHTML = "<span class='badge text-bg-danger'>This field is mandatory</span>";
                                } else {
                                    document.getElementById("lastErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ est obligatoire.</span>";
                                }
                                //document.getElementById("lastErr").innerHTML = "Last Name is required";
                            } else if (check_VDIC_array[1] == 'formatErr') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("lastErr").innerHTML = "<span class='badge text-bg-danger'>Only letters and spaces allowed</span>";
                                } else {
                                    document.getElementById("lastErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ n'accepte que des lettres et des espaces</span>";
                                }
                                //                                    document.getElementById("lastErr").innerHTML = "Only letters and white space allowed";
                            } else {
                                document.getElementById("lastErr").innerHTML = "";
                            }
                            if (check_VDIC_array[2] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("emailErr").innerHTML = "<span class='badge text-bg-danger'>This field is mandatory</span>";
                                } else {
                                    document.getElementById("emailErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ est obligatoire.</span>";
                                }
                                //document.getElementById("emailErr").innerHTML = "Email is required";
                            } else if (check_VDIC_array[2] == 'formatErr') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("emailErr").innerHTML = "<span class='badge text-bg-danger'>Please enter valid email</span>";
                                } else {
                                    document.getElementById("emailErr").innerHTML = "<span class='badge text-bg-danger'>Veuillez entrer un courriel valide</span>";
                                }
                                //document.getElementById("emailErr").innerHTML = "Please enter valid email ID";
                            } else {
                                document.getElementById("emailErr").innerHTML = "";
                            }
                            if ((check_VDIC_array[3] == 'error') && (document.getElementById('sendSms').checked)) {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>This field is mandatory</span>";
                                } else {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>Ce champ est obligatoire.</span>";
                                }
                                //                                    document.getElementById("phoneErr").innerHTML = "Phone Number is required";
                            } else if ((check_VDIC_array[3] == 'formatErr') && (document.getElementById('sendSms').checked)) {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>Only numbers are allowed</span>";
                                } else {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>Seuls des chiffres sont autorisés.</span>";
                                }
                                //document.getElementById("phoneErr").innerHTML = "Only digits allowed";
                            } else {
                                document.getElementById("phoneErr").innerHTML = "";
                            }
                            if (check_VDIC_array[4] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("dateErr").innerHTML = "<span class='badge text-bg-danger'>Please select a date of your appointment</span>";
                                } else {
                                    document.getElementById("dateErr").innerHTML = "<span class='badge text-bg-danger'>Veuillez sélectionner une date pour votre rendez-vous.</span>";
                                }
                                //document.getElementById("dateErr").innerHTML = "Please select Appointment Date";
                            } else {
                                document.getElementById("dateErr").innerHTML = "";
                            }
                            if (check_VDIC_array[5] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("yearErr").innerHTML = "<span class='badge text-bg-danger'>Please select the year of your appointment</span>";
                                } else {
                                    document.getElementById("yearErr").innerHTML = "<span class='badge text-bg-danger'>Veuillez sélectionner une anéee pour votre rendez-vous.</span>";
                                }
                                //document.getElementById("yearErr").innerHTML = "Please select Appointment Year";
                            } else {
                                document.getElementById("yearErr").innerHTML = "";
                            }
                            if (check_VDIC_array[7] == 'error') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("captchaErr").innerHTML = "Something went wrong, please try again";
                                } else {
                                    document.getElementById("captchaErr").innerHTML = "<span class='badge text-bg-danger'>Quelque chose s'est mal passé, veuillez réessayer..</span>";
                                }
                                //document.getElementById("captchaErr").innerHTML = "Please select Captcha again";
                                grecaptcha.reset();
                            } else {
                                document.getElementById("captchaErr").innerHTML = "";
                            }
                            if (check_VDIC_array[6] == 'fail') {
                                if (portalLanguage == 'eng') {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>Please enter a valid phone number to receive a confirmation by SMS. </span>";
                                } else {
                                    document.getElementById("phoneErr").innerHTML = "<span class='badge text-bg-danger'>Veuillez entrer un numéro de téléphone valide pour recevoir une confirmation par SMS.</span>";
                                }
                                //                                    document.getElementById("phoneErr").innerHTML = "Please enter valid phone number to send SMS";
                            }
                            var rdv_new = RDV_val + "T00:00";
                            var tempDate = new Date(rdv_new);
                            var formattedDate = [tempDate.getDate(), tempDate.getMonth() + 1, tempDate.getFullYear()].join('/');
                            document.getElementById("loading").innerHTML = '';
                            document.getElementById("loading").removeAttribute('class');
                            if (check_VDIC_array[6] == 'success' && language == 'eng') {
                                document.getElementById("appForm").reset();
                                window.location.href = './booking_success.php?date=' + encodeURIComponent(formattedDate) + '&time=' + encodeURIComponent(HRDV_val) + '&timeinterval=' + encodeURIComponent(formattedTime) + '&dlrName=' + encodeURIComponent(dlr_name);
                            }
                            if (check_VDIC_array[6] == 'success' && language == 'frn') {
                                document.getElementById("appForm").reset();
                                window.location.href = './booking_success_fr.php?date=' + encodeURIComponent(formattedDate) + '&time=' + encodeURIComponent(HRDV_val) + '&timeinterval=' + encodeURIComponent(formattedTime) + '&dlrName=' + encodeURIComponent(dlr_name);
                            }
                        }
                    }
                    delete xmlhttp;
                }
            }
            function getHrdv() {
                var config_id = document.getElementById("config_id").value;
                var RDVChoice = document.getElementById("aptHour").value;
                var language = document.getElementById("language").value;
                var xmlhttp = false;
                /*@cc_on @*/
                /*@if (@_jscript_version >= 5)
                // JScript gives us Conditional compilation, we can cope with old IE versions.
                // and security blocked creation of the objects.
                 try {
                  xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
                 } catch (e) {
                  try {
                   xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                  } catch (E) {
                   xmlhttp = false;
                  }
                 }
                @end @*/
                if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
                    xmlhttp = new XMLHttpRequest();
                }
                if (xmlhttp) {
                    DLcount_query = "config_id=" + config_id + "&ACTION=getHrdv&RDVChoice=" + RDVChoice + "&format=text&lang=" + language;
                    xmlhttp.open('POST', 'booking_slots.php');
                    xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
                    xmlhttp.send(DLcount_query);
                    xmlhttp.onreadystatechange = function() {
                        if (xmlhttp.readyState == 5 && xmlhttp.status == 200) {
                            var DLcounT = xmlhttp.responseText;
                            document.getElementById("HRDVOptions").innerHTML = DLcounT;
                        }
                    }
                    delete xmlhttp;
                }
            }
        </script>
        </section>
     </button>  
                                            <div class="jC">
                                                <div class="kC"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="OC">
                <div class="NC X b TB"></div>
            </div>
            <div class="RC tatsu-section-overlay x WB"></div>
        </div>
        <div class="tatsu-DBtBBAnV- MC uC tatsu-section-offset g">
            <div class="PC uC ZB">
                <div class="tatsu-section-pad-inner">
                    <div class="QC">
                        <div class="eC be-preview uC tatsu-7M06b1lunY YC UC WC">
                            <div class="TC sC m">
                                <div class="VC">
                                    <div class="aC uC tatsu-column-no-bg cC tatsu-tYUZ8hJ3E2 iC w eB pB rB vB xB">
                                        <div class="tatsu-column-inner gradientClass">
                                            <div class="bC">
                                                <div class="lC oB qB uB">
                                                    <div class="eC be-preview uC tatsu-pYHngp24Tq XC WC tatsu-inner-row-wrap AB">
                                                        <div class="TC s">
                                                            <div class="VC z">
                                                                <div class="aC uC tatsu-column-no-bg dC tatsu-IR-iaPmphP iC k v pB rB yB vB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="tatsu-module ID tatsu-SIxrA7j2Sh cD DD oC v z">
                                                                                    <a class="FD" href="tel:1 888 880-0305">
                                                                                        <span class="ED HD GD d">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                                                <path d="M6 3H18V19H6z" opacity=".3"/>
                                                                                                <path d="M16.5,1h-9C6.12,1,5,2.12,5,3.5v17C5,21.88,6.12,23,7.5,23h9c1.38,0,2.5-1.12,2.5-2.5v-17C19,2.12,17.88,1,16.5,1z M12,21.125c-0.622,0-1.125-0.503-1.125-1.125s0.503-1.125,1.125-1.125s1.125,0.503,1.125,1.125S12.622,21.125,12,21.125z M17,18H7V4h10V18z"/>
                                                                                            </svg>
                                                                                        </span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="aC cD uC tatsu-column-no-bg dC tatsu-nMtzcmzjSs iC l w pB rB vB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="ND tatsu-jyyk8Ds9Os tatsu-module OD SD w oB qB uB">
                                                                                    <a class="QD Z d t BB EB AC" href="tel:1 888 880-0305">
                                                                                        <span class="RD">1 418-838-3838 </span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="eC be-preview uC tatsu-_dIMj0_wn4 XC WC tatsu-inner-row-wrap AB">
                                                        <div class="TC s">
                                                            <div class="VC z">
                                                                <div class="aC uC tatsu-column-no-bg dC tatsu-Xjgno9RC57 iC v k pB rB vB yB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="tatsu-module ID tatsu-eB3yLj3Hkt cD DD oC v z">
                                                                                    <a class="FD" href="mailto:omar@groupepaquet.ca">
                                                                                        <span class="ED HD GD f">
                                                                                            <!--?xml version="1.0" encoding="utf-8"?-->
                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                                                <path d="M 6 2 L 6 5.4921875 L 2.9921875 7.2460938 C 2.3801875 7.6030938 2 8.2656094 2 8.9746094 L 2 19 C 2 20.103 2.897 21 4 21 L 20 21 C 21.103 21 22 20.103 22 19 L 22 8.9746094 C 22 8.2656094 21.619812 7.6030937 21.007812 7.2460938 L 18 5.4921875 L 18 2 L 6 2 z M 8 4 L 16 4 L 16 11.333984 L 12 13.822266 L 8 11.332031 L 8 4 z M 6 7.8066406 L 6 10.087891 L 4.1074219 8.9101562 L 6 7.8066406 z M 18 7.8085938 L 19.892578 8.9121094 L 18 10.089844 L 18 7.8085938 z M 4 11.199219 L 12 16.177734 L 20 11.199219 L 20.001953 19 L 4 19 L 4 11.199219 z"/>
                                                                                            </svg>
                                                                                        </span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="aC cD uC tatsu-column-no-bg dC tatsu-fkNfKqfhun iC l v pB rB vB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="ND tatsu-WLHRca6X2f tatsu-module OD SD v z">
                                                                                    <a class="QD Z d t BB EB AC" href="mailto:omar@groupepaquet.ca">
                                                                                        <span class="RD">omar@groupepaquet.ca</span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="eC be-preview uC tatsu-oJtx76_xAs XC WC tatsu-inner-row-wrap AB">
                                                        <div class="TC sC s">
                                                            <div class="VC z">
                                                                <div class="aC uC tatsu-column-no-bg dC tatsu-_6yE46nFnP iC k v pB rB yB vB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="tatsu-module ID tatsu-8LkbwwXgA5 cD DD oC v z">
                                                                                    <a class="FD" href="https://maps.app.goo.gl/a167su9KDZQ4Ykwb9" target="_blank">
                                                                                        <span class="ED HD GD f">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                                                                            </svg>
                                                                                        </span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="aC cD uC tatsu-column-no-bg dC tatsu-2EHs1minhGk iC v l pB rB vB">
                                                                    <div class="tatsu-column-inner gradientClass c">
                                                                        <div class="bC">
                                                                            <div class="lC oB qB uB">
                                                                                <div class="ND tatsu-Hmm2u3ByxFC tatsu-module OD SD v z">
                                                                                    <a class="QD Z d t BB EB AC" href="https://maps.app.goo.gl/a167su9KDZQ4Ykwb9" target="_blank">
                                                                                        <span class="RD">3580 Bd Guillaume-Couture, L &#xE9;vis, QC G6W 6N7</span>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="jC">
                                                                            <div class="kC"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="jC">
                                                <div class="kC"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="OC">
                <div class="NC"></div>
            </div>
            <div class="RC tatsu-section-overlay x"></div>
        </div>
        <div class="tatsu-OxQHKO8Ki MC uC tatsu-section-offset tatsu-section-custom-height g">
            <div class="SC JB">
                <div class="PC uC y">
                    <div class="tatsu-section-pad-inner">
                        <div class="QC">
                            <div class="eC be-preview uC tatsu-7JVPAsBxvG YC WC AB">
                                <div class="TC sC m s">
                                    <div class="VC EC">
                                        <div class="aC uC tatsu-column-no-bg dC tatsu-kZylMvfdUF gC o pB rB xB vB wB">
                                            <div class="tatsu-column-inner gradientClass">
                                                <div class="bC">
                                                    <div class="lC oB qB uB">
                                                        <div class="tatsu-module tatsu-Oc_9Rp7tzP tatsu-module vC cD uB wB">
                                                            <div class="mC wC LC d i m Z t BB FB tB BC">
                                                                <p>&#xA9;2024 VENTES Paquet-Nissan &#x2013;Tous droits r &#xE9;serv &#xE9;s</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="jC">
                                                    <div class="kC"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="aC uC tatsu-column-no-bg cC tatsu-F151-CHCf- gC o pB rB xB vB wB">
                                            <div class="tatsu-column-inner gradientClass">
                                                <div class="bC">
                                                    <div class="lC oB qB uB">
                                                        <div class="ND tatsu-w8Yb1OWiJT tatsu-module PD UD">
                                                            <a class="QD Z d t BB FB BC" href="https://www.ventefidelite.com/Politique_de_confidentialite_et_Conditions_dutilisation" target="_blank">
                                                                <span class="RD">Politique de confidentialit &#xE9;et Condition d &apos;utilisation</span>
                                                                <span class="TD">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25px" height="15px" viewBox="0 0 30 18">
                                                                        <path class="tatsu-svg-arrow-head" d="M20.305,16.212c-0.407,0.409-0.407,1.071,0,1.479s1.068,0.408,1.476,0l7.914-7.952c0.408-0.409,0.408-1.071,0-1.481
                                l-7.914-7.952c-0.407-0.409-1.068-0.409-1.476,0s-0.407,1.071,0,1.48l7.185,7.221L20.305,16.212z"/>
                                                                        <path class="VD" d="M1,8h28.001c0.551,0,1,0.448,1,1c0,0.553-0.449,1-1,1H1c-0.553,0-1-0.447-1-1
                                C0,8.448,0.447,8,1,8z"/>
                                                                    </svg>
                                                                </span>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="jC">
                                                    <div class="kC"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="aC cD uC tatsu-column-no-bg cC tatsu-8qYxiaXAOC gC o pB rB vB wB xB">
                                            <div class="tatsu-column-inner gradientClass">
                                                <div class="bC">
                                                    <div class="lC oB qB uB">
                                                        <div class="ND tatsu-LBXFmtre1T tatsu-module PD UD uB wB">
                                                            <a class="QD Z d t BB FB BC" href="https://ckjmem9tjsct.swipepages.net/termes_et_conditions" target="_blank">
                                                                <span class="RD">Termes et Conditions</span>
                                                                <span class="TD">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25px" height="15px" viewBox="0 0 30 18" >
                                                                        <path class="tatsu-svg-arrow-head" d="M20.305,16.212c-0.407,0.409-0.407,1.071,0,1.479s1.068,0.408,1.476,0l7.914-7.952c0.408-0.409,0.408-1.071,0-1.481
                                l-7.914-7.952c-0.407-0.409-1.068-0.409-1.476,0s-0.407,1.071,0,1.48l7.185,7.221L20.305,16.212z"/>
                                                                        <path class="VD" d="M1,8h28.001c0.551,0,1,0.448,1,1c0,0.553-0.449,1-1,1H1c-0.553,0-1-0.447-1-1
                                C0,8.448,0.447,8,1,8z"/>
                                                                    </svg>
                                                                </span>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="jC">
                                                    <div class="kC"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               <script type="text/javascript">
            gmapsAPIKey: "",
            goals: {
                "formSubmission": true,
                "links": [],
                "scrollDistance": null,
                "timeSpent": null,
                "linkClicks": false
            },
            googleRecaptchaV2SiteKey: "6LePPo4hAAAAAJB5nMZoeMv61UfwqOZ9jSGDkviC ",
        }
    </script>
    <!--sp-global-script-bodyClose-->
    <!--sp-global-script-bodyClose-->
    <script>
        function addUrlToIframe(iframeId, paramName='parentUrl') {
            const parentUrl = window.location.href;
            const iframe = document.getElementById(iframeId);
            if (!iframe) {
                console.error("Iframe with ID", iframeId, "not found!");
                return;
            }
            console.log("Found iframe:", iframe);
            const iframeSrc = iframe.getAttribute('src');
            if (!iframeSrc) {
                console.error("Iframe doesn't have a 'src' attribute.");
                return;
            }
            console.log("Current iframe src:", iframeSrc);
            const separator = iframeSrc.includes('?') ? '&' : '?';
            const newSrc = `${iframeSrc}${separator}${paramName}=${encodeURIComponent(parentUrl)}`;
            iframe.setAttribute('src', newSrc);
            console.log("Updated iframe src:", newSrc);
        }
        document.addEventListener('DOMContentLoaded', function() {
            addUrlToIframe('calendarFrame');
        });
        window.addEventListener('message', function(event) {
            // Ensure the message is what you expect and from a trusted source
            if (event.data === 'appointmentBooked' && event.origin === 'https://dialer.fidgi.ca') {
                // Send data to GTM
                dataLayer.push({
                    'event': 'appointmentBooked'
                });
                console.log('APPT BOOKED')
                console.log(dataLayer)
            }
        });
    </script>
    <!--/sp-global-script-bodyClose-->
    <!--/sp-global-script-bodyClose-->
    <!--sp-tracking-page-bodyClose-->
    <!--/sp-tracking-page-bodyClose-->
    <script async type="text/javascript" src="/sp-events.js?ver=1.0"></script>
    <script type="text/javascript" src="https://scripts.swipepages.com/js/tatsu.min.js?ver=1.0.44"></script>
    <script async type="text/javascript" src="https://scripts.swipepages.com/js/analytics.min.js?ver=1.0.7"></script>
    <script id="swipe-pages-recapthaV2" src="https://www.google.com/recaptcha/api.js?onload=onRecaptchaInit&render=explicit" async defer="defer"></script>
</html>